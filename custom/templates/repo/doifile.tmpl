<div id = "datacite-view" class="tab-size-8">
	<table class="ui fixed single line table" >
		<thead>
			<tr>
				<th class="three wide">
					<!-- <i class="octicon octicon-squirrel"></i> -->
					<strong id="title"></strong>
				</th>
				<th class="fourteen wide">
				</th>
			</tr>
		</thead>
		<tbody id="dmp"></tbody>
	</table>
</div>
</div>
<script>
function createTable(element, items) {
    for(const item in items) {
        let tr = document.createElement("tr");

        // add key
        let field = document.createElement("td");
        field.innerHTML = item
        tr.appendChild(field);

        // add value
        if(typeof items[item] === "object") {
            console.log(item, "is object.");
            createTable(tr, items[item])
        } else {
            let value = document.createElement("td");
            value.innerHTML = items[item]
            tr.appendChild(value);
        }
        element.appendChild(tr);
    }
}

$(document).ready(function(){
    let tableEle = document.getElementById("dmp");
    let items = {{ .DOIInfo | Str2JS}};
    (document.getElementById("title")).innerHTML = "dmp.json (" + items.schema + ")";
    console.log(items)
    createTable(tableEle, items)
})
</script>
